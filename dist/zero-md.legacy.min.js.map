{"version":3,"file":"zero-md.legacy.min.js","sources":["../src/utils/IDfy.js","../src/index.js"],"sourcesContent":["const notAUnicodeWord =\n  /[^_0-9a-zA-Z\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16F1-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2183\\u2184\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005\\u3006\\u3031-\\u3035\\u303B\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6E5\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]+/g\n\nexport default function IDfy(\n  name,\n  options = { lowerCase: true, replace: { its: notAUnicodeWord, with: '-' } },\n) {\n  return options.lowerCase\n    ? name.toLowerCase().replace(options.replace.its, options.replace.with)\n    : name.replace(options.replace.its, options.replace.with)\n}\n","import IDfy from './utils/IDfy'\n\nconst htmlTemplate = {\n  /**\n   * @param {{\n   *   code: string | undefined,\n   *   customName: string | undefined,\n   *   content: string,\n   *   isPoetry: boolean | undefined,\n   * }} details\n   * @returns {string}\n   */\n  codeBlock: ({ code, customName, content, isPoetry }) =>\n    `<pre><code${isPoetry ? ' poetry' : ''}${code ? ` class=\"language-${code}\"` : ''}${\n      customName ? ` data-customName=\"${customName}\"` : ''\n    }>${content}</code></pre>`,\n}\n\nexport class ZeroMd extends HTMLElement {\n  get src() {\n    return this.getAttribute('src')\n  }\n\n  get path() {\n    return this.getAttribute('path')\n  }\n\n  get lang() {\n    return (\n      new URLSearchParams(window.location.search).get('lang') ||\n      this.getAttribute('lang') ||\n      this.config.lang\n    )\n  }\n\n  get code() {\n    return (\n      new URLSearchParams(window.location.search).get('code') ||\n      this.getAttribute('code') ||\n      this.config.code\n    )\n  }\n\n  get debug() {\n    return (\n      new URLSearchParams(window.location.search).get('debug') ||\n      this.getAttribute('debug') ||\n      this.config?.debug\n    )\n  }\n\n  set src(val) {\n    this.reflect('src', val)\n  }\n\n  set path(val) {\n    this.reflect('path', val)\n  }\n\n  set lang(val) {\n    this.reflect('lang', val)\n  }\n\n  set code(val) {\n    this.reflect('code', val)\n  }\n\n  get manualRender() {\n    return this.hasAttribute('manual-render')\n  }\n\n  set manualRender(val) {\n    this.reflect('manual-render', val)\n  }\n\n  reflect(name, val) {\n    if (val === false) {\n      this.removeAttribute(name)\n    } else {\n      this.setAttribute(name, val === true ? '' : val)\n    }\n  }\n\n  static get observedAttributes() {\n    return ['src', 'path', 'lang', 'code']\n  }\n\n  attributeChangedCallback(name, old, val) {\n    if (\n      (name === 'src' || name === 'path' || name === 'lang' || name === 'code') &&\n      this.connected &&\n      !this.manualRender &&\n      val !== old\n    ) {\n      this.render()\n    }\n  }\n\n  constructor(defaults) {\n    super()\n    this.version = '$VERSION'\n    this.config = {\n      markedUrl: 'https://cdn.jsdelivr.net/gh/markedjs/marked@2/marked.min.js',\n      prismUrl: [\n        ['https://cdn.jsdelivr.net/gh/PrismJS/prism@1/prism.min.js', 'data-manual'],\n        'https://cdn.jsdelivr.net/gh/PrismJS/prism@1/plugins/autoloader/prism-autoloader.min.js',\n      ],\n      cssUrls: [\n        'https://cdn.jsdelivr.net/gh/sindresorhus/github-markdown-css@4/github-markdown.min.css',\n        'https://cdn.jsdelivr.net/gh/PrismJS/prism@1/themes/prism.min.css',\n        'https://cdn.jsdelivr.net/gh/automician/buttons-menu-custom-element@98902f0ad3f21fa6a2f3e0d1aa75b6f478557936/build/static/css/main.e5d0f3d9.css',\n      ],\n      hostCss:\n        ':host{display:block;position:relative;contain:content;}:host([hidden]){display:none;}' +\n        `\n        .codeGroup {\n          width: auto;\n          margin: auto;\n          background-color: rgba(27,31,35,.05);\n          border-radius: 10px;\n          box-shadow: 0px 5px 15px rgba(0, 0, 0, .1);\n        }\n        \n        button {\n          letter-spacing: 0.75px;\n          border: none;\n          padding: 10px;\n          # background-color: #bccbe9;\n          background-color: rgba(27,31,35,.05);\n          # color: #8e9ead;\n          color: #778796;\n          font-size: 12px;\n          font-weight: 200;\n          cursor: pointer;\n          transition: 0.5s;\n        }\n        \n        button:hover {\n          #background-color: #d5e3ff;\n          background-color: rgba(0,183,206,0.1);\n        }\n        \n        button.active {\n          background-color: rgba(27,31,35,.05);\n          border-bottom: rgb(0,183,206) 1px solid;\n        }\n        \n        .active {\n          background-color: white;\n        }\n        \n        .tab-content,.inline-content {\n          display: none;\n        }\n        \n        .tab-content.active {\n          display: block;\n        }\n        \n        .inline-content.active {\n          display: inline;\n        }\n        `,\n      baseUrl: '',\n      gitlab: {\n        token: null,\n        projectId: null,\n        path: null,\n        branch: 'master',\n        ...window.ZeroMdConfig.gitlab,\n      },\n      disableCodeHighlightingFor: [],\n      shortBreaksNumber: 2,\n      longBreaksNumber: 20,\n      anchorIdsToLowerCase: true,\n      indentInsideTocByPixels: 40,\n      imgBaseOld: './resources',\n      imgBaseNew: 'https://github.com/yashaka/taotaspy-resources/raw/master',\n      lang: null,\n      code: null,\n      groupCodeGroups: true,\n      pTagLang: undefined, // expect string with something like \"en-us\", \"ru\", etc...\n      ...defaults,\n      ...window.ZeroMdConfig,\n    }\n    this.cache = {}\n    this.root = this.hasAttribute('no-shadow') ? this : this.attachShadow({ mode: 'open' })\n    if (!this.constructor.ready) {\n      this.constructor.ready = Promise.all([\n        !!window.marked || this.loadScript(this.config.markedUrl),\n        !!window.Prism || this.loadScript(this.config.prismUrl),\n      ])\n    }\n    this.clicked = this.clicked.bind(this)\n    if (!this.manualRender) {\n      // Scroll to hash id after first render. However, `history.scrollRestoration` inteferes with this\n      // on refresh. It's much better to use a `setTimeout` rather than to alter the browser's behaviour.\n      this.render().then(() => setTimeout(() => this.goto(location.hash), 250))\n    }\n    this.observer = new MutationObserver(async () => {\n      this.observeChanges()\n      if (!this.manualRender) {\n        await this.render()\n      }\n    })\n    this.observeChanges()\n  }\n\n  connectedCallback() {\n    this.connected = true\n    this.fire('zero-md-connected', {}, { bubbles: false, composed: false })\n    this.waitForReady().then(() => {\n      this.fire('zero-md-ready')\n    })\n    if (this.shadowRoot) {\n      this.shadowRoot.addEventListener('click', this.clicked)\n    }\n  }\n\n  disconnectedCallback() {\n    this.connected = false\n    if (this.shadowRoot) {\n      this.shadowRoot.removeEventListener('click', this.clicked)\n    }\n  }\n\n  waitForReady() {\n    const ready =\n      this.connected ||\n      new Promise((resolve) => {\n        this.addEventListener('zero-md-connected', function handler() {\n          this.removeEventListener('zero-md-connected', handler)\n          resolve()\n        })\n      })\n    return Promise.all([this.constructor.ready, ready])\n  }\n\n  // TODO: ensure this implementation is valid\n  waitForRendered() {\n    const rendered = new Promise((resolve) => {\n      this.addEventListener('zero-md-rendered', function handler() {\n        this.removeEventListener('zero-md-rendered', handler)\n        resolve()\n      })\n    })\n    return Promise.all([this.constructor.ready, rendered])\n  }\n\n  fire(name, detail = {}, opts = { bubbles: true, composed: true }) {\n    if (detail.msg) {\n      console.warn(detail.msg)\n    }\n    this.dispatchEvent(\n      new CustomEvent(name, {\n        detail: { node: this, ...detail },\n        ...opts,\n      }),\n    )\n  }\n\n  tick() {\n    return new Promise((resolve) => requestAnimationFrame(resolve))\n  }\n\n  // Coerce anything into an array\n  arrify(any) {\n    return any ? (Array.isArray(any) ? any : [any]) : []\n  }\n\n  // Promisify an element's onload callback\n  onload(node) {\n    return new Promise((resolve, reject) => {\n      node.onload = resolve\n      node.onerror = (err) => reject(err.path ? err.path[0] : err.composedPath()[0])\n    })\n  }\n\n  // Load a url or load (in order) an array of urls via <script> tags\n  loadScript(urls) {\n    return Promise.all(\n      this.arrify(urls).map((item) => {\n        const [url, ...attrs] = this.arrify(item)\n        const el = document.createElement('script')\n        el.src = url\n        el.async = false\n        attrs.forEach((attr) => el.setAttribute(attr, ''))\n        return this.onload(document.head.appendChild(el))\n      }),\n    )\n  }\n\n  // Scroll to selected element\n  goto(id) {\n    if (id) {\n      const el = this.root.getElementById(id.substring(1))\n      if (el) {\n        el.scrollIntoView()\n      }\n    }\n  }\n\n  // Hijack same-doc anchor hash links\n  clicked(ev) {\n    if (ev.metaKey || ev.ctrlKey || ev.altKey || ev.shiftKey || ev.defaultPrevented) {\n      return\n    }\n    const a = ev.target.closest('a')\n    if (a && a.hash && a.host === location.host && a.pathname === location.pathname) {\n      this.goto(a.hash)\n    }\n  }\n\n  dedent(str) {\n    str = str.replace(/^\\n/, '')\n    const match = str.match(/^\\s+/)\n    return match ? str.replace(new RegExp(`^${match[0]}`, 'gm'), '') : str\n  }\n\n  getBaseUrl(src) {\n    const a = document.createElement('a')\n    a.href = src\n    return a.href.substring(0, a.href.lastIndexOf('/') + 1)\n  }\n\n  // Runs Prism highlight async; falls back to sync if Web Workers throw\n  highlight(container) {\n    return new Promise((resolve) => {\n      const unhinted = container.querySelectorAll('pre>code:not([class*=\"language-\"])')\n      unhinted.forEach((n) => {\n        // Dead simple language detection :)\n        const lang = n.innerText.match(/^\\s*</)\n          ? 'markup'\n          : n.innerText.match(/^\\s*(\\$|#)/)\n          ? 'bash'\n          : 'js'\n        n.classList.add(`language-${lang}`)\n      })\n      try {\n        window.Prism.highlightAllUnder(container, true, resolve())\n      } catch {\n        window.Prism.highlightAllUnder(container)\n        resolve()\n      }\n    })\n  }\n\n  // Converts HTML string into node\n  makeNode(html) {\n    const tpl = document.createElement('template')\n    tpl.innerHTML = html\n    return tpl.content.firstElementChild\n  }\n\n  // Construct styles dom and return HTML string\n  buildStyles() {\n    const get = (query) => {\n      const node = this.querySelector(query)\n      return node ? node.innerHTML || ' ' : ''\n    }\n    const urls = this.arrify(this.config.cssUrls)\n    const html = `<div class=\"markdown-styles\"><style>${this.config.hostCss}</style>${get(\n      'template[data-merge=\"prepend\"]',\n    )}${\n      get('template:not([data-merge])') ||\n      urls.reduce((a, c) => `${a}<link rel=\"stylesheet\" href=\"${c}\">`, '')\n    }${get('template[data-merge=\"append\"]')}</div>`\n    return html\n  }\n\n  // Construct md nodes and return HTML string\n  async buildMd(opts = {}) {\n    const renderer = new window.marked.Renderer()\n    let isOriginalUnderscoredBoldDisabledByNonDefaultPoetryBoldOption = undefined\n    let tocLinks = []\n\n    /* DEFINE HOW TO GET MD */\n\n    let isReadingFromGitlabConfigured = this.config.gitlab !== {}\n    let gitlabAbsoluteUrl = ''\n    const src = async () => {\n      if (!this.src && !this.path) {\n        return ''\n      }\n      const resp =\n        isReadingFromGitlabConfigured && this.path\n          ? await (async () => {\n              const id = this.config.gitlab.projectId\n              const branch = this.config.gitlab.branch\n              const absolutePath = encodeURIComponent(this.path.trim())\n              gitlabAbsoluteUrl = `https://gitlab.com/api/v4/projects/${id}/repository/files/${absolutePath}/raw?ref=${branch}`\n\n              return fetch(gitlabAbsoluteUrl, {\n                headers: {\n                  'PRIVATE-TOKEN': this.config.gitlab.token,\n                },\n              })\n            })()\n          : await (async () => {\n              const url = this.src.trim()\n              gitlabAbsoluteUrl = url.startsWith('http') ? url : this.config.baseUrl + url\n\n              return fetch(gitlabAbsoluteUrl)\n            })()\n\n      if (resp.ok) {\n        return await resp.text()\n      } else {\n        this.fire('zero-md-error', {\n          msg: `[zero-md] HTTP error ${resp.status} while fetching src`,\n          status: resp.status,\n          src: this.src,\n          path: this.path,\n          lang: this.lang,\n          code: this.code,\n        })\n        return ''\n      }\n    }\n    const script = () => {\n      const el = this.querySelector('script[type=\"text/markdown\"]')\n      if (!el) {\n        return ''\n      }\n      const md = el.hasAttribute('data-dedent') ? this.dedent(el.text) : el.text\n      return md\n    }\n\n    let md = (await src()) || script()\n\n    /* PROCESS MD */\n\n    const importsMatch = [...md.matchAll(/<!--import\\(([\\s\\S]*?)\\)-->/gim)]\n    if (importsMatch.length) {\n      await Promise.all(\n        importsMatch.map(async ([match, importURL]) => {\n          const currentZeroMdPath =\n            isReadingFromGitlabConfigured && this.path ? this.path : this.src\n          const currentZeroMdFileNestingDepth = currentZeroMdPath.split('/').length - 1\n\n          let response\n          const isUrlRelative = !importURL.startsWith('http')\n          if (isUrlRelative) {\n            const importedFileNestingMatch = importURL.match(/\\.{1,2}(?=[^/]*\\/)/gim)\n\n            if (\n              (importedFileNestingMatch &&\n                importedFileNestingMatch.length === 1 &&\n                importedFileNestingMatch[0] === '.') ||\n              importedFileNestingMatch === null\n            ) {\n              const thisPathLastElement = this.path.split('/').pop()\n              const filePathtoReplace = importedFileNestingMatch\n                ? importURL.split('./')[1]\n                : importURL.split('./')[0]\n\n              importURL = this.path.replace(thisPathLastElement, filePathtoReplace)\n            }\n\n            if (\n              importedFileNestingMatch &&\n              !(importedFileNestingMatch.length === 1 && importedFileNestingMatch[0] === '.')\n            ) {\n              const importedFileNestingDepth = importedFileNestingMatch.filter(\n                (item) => item === '..',\n              ).length\n\n              if (importedFileNestingDepth <= currentZeroMdFileNestingDepth) {\n                const importURLPurePath = importURL.replace(/^(\\.\\/|\\.\\.\\/)*/, '')\n                const importedFileFolderIndex =\n                  currentZeroMdFileNestingDepth - importedFileNestingDepth\n                importURL = currentZeroMdPath\n                  .split('/')\n                  .slice(0, importedFileFolderIndex)\n                  .concat(importURLPurePath)\n                  .join('/')\n              } else {\n                console.error('Provided relative path to the file does not exist')\n                return\n              }\n            }\n\n            // TODO: refactor for DRY (remove duplicated absolute url building logic)\n            const id = this.config.gitlab.projectId\n            const branch = this.config.gitlab.branch\n            const absolutePath = encodeURIComponent(importURL.trim())\n            gitlabAbsoluteUrl = `https://gitlab.com/api/v4/projects/${id}/repository/files/${absolutePath}/raw?ref=${branch}`\n\n            response = await fetch(gitlabAbsoluteUrl, {\n              headers: {\n                'PRIVATE-TOKEN': this.config.gitlab.token,\n              },\n            })\n          } else {\n            response = await fetch(importURL)\n          }\n\n          if (response.ok) {\n            const importedContent = await response.text()\n            md = md.replace(match, importedContent)\n          }\n        }),\n      )\n    }\n\n    const codalizedMatch = [\n      ...md.matchAll(\n        /<codalized( main=\"(js|ts|py|java|cs|kt|rb|kt|shell|sh|bash|bat|pwsh|text|md|yaml|json|html|xml)\")?\\/>/gim,\n      ),\n    ]\n    const [[shouldBeCodalized, __, defaultCodeFromMd]] = codalizedMatch.length\n      ? codalizedMatch\n      : [[]]\n\n    const localizedMatch = [...md.matchAll(/<localized( main=\"(uk|ru|en)\")?\\/>/gim)]\n    const [[shouldBeLocalized, _, defaultLangFromMd]] = localizedMatch.length\n      ? localizedMatch\n      : [[]]\n\n    const translationPerCodeOption =\n      /<!--((?:js|ts|java|py|cs|kt|rb|kt|shell|sh|bash|bat|pwsh|text|md|yaml|json|html|xml)(?:-(?:js|ts|java|py|cs|kt|rb|kt|shell|sh|bash|bat|pwsh|text|md|yaml|json|html|xml))*)((?![-])\\W)(.*?)\\2(.*?)\\2-->/gim\n    ;[...md.matchAll(translationPerCodeOption)].forEach(([_, perCode, __, from, to]) => {\n      if (perCode.split('-').length > 1) {\n        perCode = perCode.split('-')\n      }\n\n      if (\n        perCode instanceof Array\n          ? perCode.includes(this.code || defaultCodeFromMd)\n          : (this.code || defaultCodeFromMd) === perCode\n      ) {\n        md = md.replace(new RegExp(from, 'gmi'), to)\n      }\n    })\n\n    const translationPerLangOption =\n      /<!--((?:uk|ru|en)(?:-(?:uk|ru|en))*)((?![-])\\W)(.*?)\\2(.*?)\\2-->/gim\n    ;[...md.matchAll(translationPerLangOption)].forEach(([_, perLang, __, from, to]) => {\n      if (perLang.split('-').length > 1) {\n        perLang = perLang.split('-')\n      }\n\n      if (\n        perLang instanceof Array\n          ? perLang.includes(this.lang || defaultLangFromMd)\n          : (this.lang || defaultLangFromMd) === perLang\n      ) {\n        md = md.replace(new RegExp(from, 'gmi'), to)\n      }\n    })\n\n    this.debug && console.log('===md\\n' + md)\n\n    if (shouldBeCodalized) {\n      const codalized =\n        /<((not-)?(js|ts|py|java|cs|kt|rb|kt|shell|sh|bash|bat|pwsh|text|md|yaml|json|html|xml)(-js|-ts|-py|-java|-cs|-kt|-rb|-kt|-shell|-sh|-bash|-bat|-pwsh|-text|-md|-yaml|-json|-html|-xml)*)>([\\s\\S]*?)<\\/\\1>/gim\n      md = md.replace(codalized, (match, $1, inverted, ___, ____, $5) => {\n        const tag = $1\n        const content = $5\n        const candidates = inverted ? tag.split('-').slice(1) : tag.split('-')\n        return `<span class=\"inline-content${\n          inverted\n            ? candidates.includes(this.code || defaultCodeFromMd)\n              ? ''\n              : ' active'\n            : candidates.includes(this.code || defaultCodeFromMd)\n            ? ' active'\n            : ''\n        }\" id=\"${tag}\">${content}</span>` // TODO: should we make here id value dependent on inverted?\n      })\n    }\n    this.debug && console.log('===md after codalized\\n' + md)\n\n    if (shouldBeLocalized) {\n      const localized = /<((uk|ru|en)(-uk|-ru|-en)*)>([\\s\\S]*?)<\\/\\1>/gim\n      md = md.replace(localized, (match, $1, __, ___, $4) => {\n        const candidates = $1.split('-')\n        const content = $4\n        return candidates.includes(this.lang || defaultLangFromMd) ? content : ''\n      })\n    }\n    this.debug && console.log('===md after localized\\n' + md)\n\n    const tocStartLevelOption = /<!--TOC>(\\d)-->/i\n    const [, tocStartLevel] = md.match(tocStartLevelOption) || [null, 0]\n    renderer.heading = (text, level) => {\n      const [, pure, userId] = text.match(/^(.*)?\\s*{#(.*)}$/im) || [null, text]\n      const pureWithoutTags = pure.replace(/<\\/?\\w+>/g, '')\n      const anchorIdsToLowerCase = this.config.anchorIdsToLowerCase\n      const id =\n        userId ||\n        (anchorIdsToLowerCase ? IDfy(pureWithoutTags) : IDfy(pureWithoutTags, { lowerCase: false }))\n      const pixelsNumber = this.config.indentInsideTocByPixels\n\n      if (level > tocStartLevel) {\n        const indentInsideToc = `style=\"margin-left: ${\n          pixelsNumber * (level - 1 - tocStartLevel)\n        }px\"`\n        tocLinks.push(`<div ${indentInsideToc}><a href=\"#${id}\">${pureWithoutTags}</a></div>`)\n      }\n\n      return `<h${level}>${encodeURI(id) === id ? '' : `<span id=\"${encodeURI(id)}\"></span>`}\n          <a id=\"${id}\" class=\"anchor\" aria-hidden=\"true\" href=\"#${id}\"></a>${pure}</h${level}>`\n    }\n\n    const imgBase = /]\\(\\.\\.?\\/resources/gim // todo: move ../resources to config\n    md = md.replace(imgBase, '](' + this.config.imgBaseNew)\n\n    const shortBreaks = /^,,,,+/gim\n    md = md.replace(shortBreaks, '<br/>'.repeat(this.config.shortBreaksNumber))\n\n    const longBreaks = /^====+/gim\n    md = md.replace(longBreaks, '<br/>'.repeat(this.config.longBreaksNumber))\n\n    const pageBreaks = /^===/gim\n    md = md.replace(pageBreaks, '<div style=\"page-break-after: always;\"></div>')\n\n    this.config.disableCodeHighlightingFor.forEach((lang) => {\n      md = md.replace(new RegExp(`\\`\\`\\`${lang}`, 'gim'), '```')\n    })\n\n    const articleTypeExtension = /\\.(\\w+)\\.md(\\)|#)/gim\n    md = md.replace(articleTypeExtension, `-$1.md$2`)\n\n    // todo: fix to skip links that start with http\n    const mdExtensions = /\\.md\\)/gim\n    md = md.replace(mdExtensions, `-md${window.location.search})`)\n\n    const mdExtensionsWithId = /\\.md#/gim\n    md = md.replace(mdExtensionsWithId, `-md${window.location.search}#`)\n\n    const poetryBoldOption = /<!--(.+?)poetryBold(.+?)-->/gi\n    const [, poetryBoldStart, poetryBoldEnd] = [...md.matchAll(poetryBoldOption)].at(-1) || [\n      null,\n      '__',\n      '__',\n    ]\n\n    const tabNameOption = /<!--(.+)tabNameBrackets(.+)-->/i\n    const [, tabNameStart, tabNameEnd] = md.match(tabNameOption) || [null, '\"', '\"']\n\n    const poetryBoldOptionRule = [\n      new RegExp(\n        `${poetryBoldStart}(?!${poetryBoldStart})(.*?)${poetryBoldEnd}(?!${poetryBoldEnd})`,\n        'gmi',\n      ),\n      '<b>$1</b>',\n    ]\n    // todo: change to ```poetry ... ``` style\n    const poetries =\n      /---[a-z]*\\n([\\s\\S]*?)\\n---/gim /* TODO: should have same abount of groups as backTickPoetries\n      or should be replaced with backTickPoetries completely, i.e. removed\n    */\n    const backTickPoetries = /```poetry(?::( .+))?\\n([\\s\\S]*?)\\n```/gim\n    const poetryRulesExceptBold = [\n      [/(_)___(?!\\1)(.*?)____(?!\\1)/gim, '<span style=\"text-decoration:underline\">$2</span>'], //underlined\n      [/(_)__(?!\\1)(.*?)___(?!\\1)/gim, '<em>$2</em>'], //emphasis (aka \"italic\")\n\n      // [/^(?!.*\\/\\*.*$).*(\\*)(.*?)\\1/gmi,      '<em>$2</em>'], //emphasis\n      // TODO: fix: does not work for lines: ... * ... * ... /* ... */ ...\n      // read for more info:\n      //    https://stackoverflow.com/questions/7376238/javascript-regex-look-behind-alternative\n    ]\n    isOriginalUnderscoredBoldDisabledByNonDefaultPoetryBoldOption = poetryBoldStart !== '__'\n    const processPoetry = (rules) => (match, $1, $2) => {\n      const info = $1\n      const content = $2\n      // const titles = info.split(/\\s+/)\n      // const maybeCodeOrCustomNameOrBoth =\n      // /(?:^|\\s+)(js|ts|java|py|cs|kt|rb|kt|shell|sh|bash|bat|pwsh|text|md|yaml|json|html|xml)?(?:\"(.+?)\")?\"/g\n      const maybeCodeOrCustomNameOrBoth = new RegExp(\n        '(?:^|\\\\s+)' +\n          '(js|ts|java|py|cs|kt|rb|kt|shell|sh|bash|bat|pwsh|text|md|yaml|json|html|xml)?' +\n          `(?:${tabNameStart}(.+?)${tabNameEnd})?`,\n        'g',\n      )\n      const maybeCodeOrCustomNameOrBothPairs = [\n        ...(info?.trim().matchAll(maybeCodeOrCustomNameOrBoth) ?? []),\n      ].map((matched) => ({ maybeCode: matched[1], maybeCustomName: matched[2] }))\n\n      let res = content\n\n      // TODO: encode all html elements definition tokens in poetry content with &lt;, &gt;, and &quot;\n      res = res.replace(/</gim, '&lt;')\n      res = res.replace(/>/gim, '&gt;')\n      res = res.replace(/\"/gim, '&quot;')\n\n      for (const rule of rules) {\n        res = res.replace(rule[0], rule[1])\n      }\n\n      if (isOriginalUnderscoredBoldDisabledByNonDefaultPoetryBoldOption) {\n        // then we should totally disable original __ and **\n        // in md processing (both by us and marked.js)\n        // by encoding it ...\n        res = res.replace(/(_)_(?!\\1)(.*?)__(?!\\1)/gim, '‡‡‡$2‡‡‡') // to encode original __\n        if (poetryBoldStart !== '\\\\*\\\\*') {\n          res = res.replace(/(\\*)\\*(?!\\1)(.*?)\\*\\*(?!\\1)/gim, '•••$2•••') // to encode original __\n        }\n        // then decode it later once md is processed and we get html...\n      }\n\n      const boldRules = [\n        poetryBoldOptionRule, //bold1\n        [/(\\*)\\*(?!\\1)(.*?)\\*\\*(?!\\1)/gim, '<b>$2</b>'], //bold2\n      ]\n\n      for (const rule of boldRules) {\n        res = res.replace(rule[0], rule[1])\n      }\n\n      const wrapped = maybeCodeOrCustomNameOrBothPairs.length\n        ? maybeCodeOrCustomNameOrBothPairs\n            .map(({ maybeCode, maybeCustomName }) =>\n              htmlTemplate.codeBlock({\n                code: maybeCode,\n                content: res,\n                customName: maybeCustomName,\n                isPoetry: true,\n              }),\n            )\n            // if somebody passed more than one pair in info,\n            // then we clone content into same amount of poetries\n            .join('\\n')\n        : htmlTemplate.codeBlock({ code: 'text', content: res, isPoetry: true })\n\n      return wrapped\n    }\n\n    md = md.replace(poetries, processPoetry(poetryRulesExceptBold))\n    md = md.replace(backTickPoetries, processPoetry(poetryRulesExceptBold))\n\n    const multiCodeBlocks = /```((?:[a-z]+)(?: [a-z]+)+)\\n([\\s\\S]*?)\\n```/gim\n    md = md.replace(multiCodeBlocks, (match, codes, content) => {\n      return codes\n        .split(/\\s+/)\n        .map((code) => `\\`\\`\\`${code}\\n${content}\\n\\`\\`\\``)\n        .join('\\n')\n    })\n\n    // this part is actually have not business value\n    // but was implemented here just for knowledge sharing purposes\n    // probably we gonna remove it one day...\n    const multiTabsWithCustomNamesCodeBlocks =\n      /```\\b(?!poetry\\b)([a-z]+)(?:: (.+))\\n([\\s\\S]*?)\\n```/gim\n    md = md.replace(multiTabsWithCustomNamesCodeBlocks, (match, code, info, content) => {\n      const customNames = [\n        ...info.matchAll(new RegExp(tabNameStart + '(.+?)' + tabNameEnd, 'gim')),\n      ].map((matched) => matched[1])\n      return customNames\n        .map((customName) => htmlTemplate.codeBlock({ content, customName, code }))\n        .join('\\n')\n    })\n\n    /* GET HTML */\n\n    this.debug && console.log('===md before final processing via marked.js\\n' + md)\n\n    let html = window.marked(md, {\n      baseUrl: this.getBaseUrl(window.location.href),\n      renderer,\n      ...opts,\n    })\n\n    /* PROCESS HTML */\n\n    this.debug && console.log('===html\\n' + html)\n\n    // decode previously decoded\n    if (isOriginalUnderscoredBoldDisabledByNonDefaultPoetryBoldOption) {\n      html = html.replace(/‡‡‡/gim, '__')\n      html = html.replace(/•••/gim, '**')\n    }\n\n    const tocMarker = /\\[toc\\]/i\n    const toc = `<div class=\"toc\">${tocLinks.join('')}</div>`\n    html = html.replace(tocMarker, toc)\n\n    const codeGroups = /<p>(:::+)(manual)?<\\/p>([\\s\\S]*?)<p>\\1<\\/p>/gim\n    const processCodeGroup = (match, $1, manual, $3) => {\n      const items = $3\n\n      const itemMarker =\n        /<pre><code( poetry)?(?: class=\"language-(\\w+)\")?( data-customName=\"(.+)\")?.*?>([\\s\\S]*?)<\\/code><\\/pre>/gim\n\n      // const contentAndMaybeCodeOrCustomNameOrAll = [...items.matchAll(itemMarker)].map(\n      //   (matched) => ({\n      //     maybeCode: matched[2],\n      //     maybeCustomName: matched[4],\n      //     content: matched[0],\n      //   }),\n      // )\n\n      let [itemsContent, itemsTitles] = [...items.matchAll(itemMarker)].reduce(\n        ([content, titles], [match, _, code, ___, customName, _____]) => {\n          const title = customName ? [code, customName] : [code]\n\n          return [\n            [...content, match],\n            [...titles, title],\n          ]\n        },\n        [[], []],\n      )\n\n      let processedCodes = []\n      return `\n          <div class=\"codeGroup\">\n            <div class=\"buttonWrapper\">\n              ${itemsTitles\n                .map((title, index) => {\n                  // TODO: name it and find good proper name\n\n                  const code = title[0]\n                  const customName = title[1]\n\n                  const html = `<button class=\"tab-button${\n                    manual\n                      ? index === 0\n                        ? ' active'\n                        : ''\n                      : (\n                          this.code\n                            ? this.code === code && !processedCodes.includes(code)\n                            : index === 0\n                        )\n                      ? ' active'\n                      : ''\n                  }\"${\n                    code || customName\n                      ? ' data-id=\"' + IDfy(customName ? code + '_' + customName : code) + '\"'\n                      : ''\n                  }\">${customName ?? code ?? '__'}</button>`\n\n                  processedCodes.push(code)\n\n                  return html\n                })\n                .join('\\n')}\n            </div>\n            <div class=\"contentWrapper\">\n              ${itemsContent\n                .map((item, index) => {\n                  const title = itemsTitles[index]\n                  const code = title[0]\n                  const customName = title[1]\n                  if (index === 0) {\n                    processedCodes = [] // TODO: remove this mutation from lambda for map (such lambda should be pure, i.e. not mutating anything from outer scope)\n                  }\n\n                  const html = `<div class=\"tab-content${\n                    manual\n                      ? index === 0\n                        ? ' active'\n                        : ''\n                      : (\n                          this.code\n                            ? this.code === code && !processedCodes.includes(code)\n                            : index === 0\n                        )\n                      ? ' active'\n                      : ''\n                  }\"${\n                    code || customName\n                      ? ' id=\"' + IDfy(customName ? code + '_' + customName : code) + '\"'\n                      : ''\n                  }>${item}</div>`\n\n                  processedCodes.push(code)\n\n                  return html\n                })\n                .join('\\n')}\n            </div>\n          </div>\n          `.trim()\n    }\n\n    html = html.replace(codeGroups, processCodeGroup)\n\n    const languageJsMarker = /<pre><code class=\"language-(js|javascript)\"/gim\n    html = html.replace(languageJsMarker, '<pre><code class=\"language-typescript\"')\n\n    return `<div class=\"markdown-body${\n      opts.classes ? this.arrify(opts.classes).reduce((a, c) => `${a} ${c}`, ' ') : ''\n    }\">${html}</div>`\n  }\n\n  // Insert or replace HTML styles string into DOM and wait for links to load\n  async stampStyles(html) {\n    const node = this.makeNode(html)\n    const links = [...node.querySelectorAll('link[rel=\"stylesheet\"]')]\n    const target = [...this.root.children].find((n) => n.classList.contains('markdown-styles'))\n    if (target) {\n      target.replaceWith(node)\n    } else {\n      this.root.prepend(node)\n    }\n    await Promise.all(links.map((l) => this.onload(l))).catch((err) => {\n      this.fire('zero-md-error', {\n        msg: '[zero-md] An external stylesheet failed to load',\n        status: undefined,\n        src: err.href,\n      })\n    })\n  }\n\n  // Insert or replace HTML body string into DOM and returns the node\n  stampBody(html) {\n    const node = this.makeNode(html)\n    const target = [...this.root.children].find((n) => n.classList.contains('markdown-body'))\n    if (target) {\n      target.replaceWith(node)\n    } else {\n      this.root.append(node)\n    }\n    return node\n  }\n\n  // Start observing for changes in root, templates and scripts\n  observeChanges() {\n    this.observer.observe(this, { childList: true })\n    this.querySelectorAll('template,script[type=\"text/markdown\"]').forEach((n) => {\n      this.observer.observe(n.content || n, {\n        childList: true,\n        subtree: true,\n        attributes: true,\n        characterData: true,\n      })\n    })\n  }\n\n  async render(opts = {}) {\n    await this.waitForReady()\n    const stamped = {}\n    const pending = this.buildMd(opts)\n    const css = this.buildStyles()\n    if (css !== this.cache.styles) {\n      this.cache.styles = css\n      await this.stampStyles(css)\n      stamped.styles = true\n      await this.tick()\n    }\n    const md = await pending\n    if (md !== this.cache.body) {\n      this.cache.body = md\n      const node = this.stampBody(md)\n\n      /* PROCESS CODE GROUP - START */\n      const tabsWrappers = node.querySelectorAll('.codeGroup')\n      tabsWrappers.forEach((tabsWrapper) => {\n        if (tabsWrapper.querySelectorAll('.tab-content.active').length === 0) {\n          // hide everything if no active content found\n          tabsWrapper.style.display = 'none'\n        }\n        tabsWrapper.onclick = (e) => {\n          const element = e.target\n          const newActiveContentId = element.dataset.id\n          const isElementANonActiveTabButton =\n            !!newActiveContentId && !element.classList.contains('active')\n\n          if (isElementANonActiveTabButton) {\n            if (this.config.groupCodeGroups) {\n              node.querySelectorAll('.codeGroup .tab-button').forEach((tabButton) => {\n                if (tabButton.dataset.id === newActiveContentId) {\n                  tabButton.classList.add('active')\n                } else {\n                  tabButton.classList.remove('active')\n                }\n              })\n\n              node.querySelectorAll(`.tab-content,.inline-content`).forEach((content) => {\n                if (content.id.split('-').includes(newActiveContentId)) {\n                  content.classList.add('active')\n                } else {\n                  content.classList.remove('active')\n                }\n              })\n            } else {\n              const buttonsWrapper = element.parentElement\n              buttonsWrapper.querySelector('.tab-button.active').classList.remove('active')\n              element.classList.add('active')\n\n              const wrapper = buttonsWrapper.parentElement\n              const contents = wrapper.querySelectorAll('.tab-content')\n              contents.forEach((content) => {\n                content.classList.remove('active')\n              })\n              wrapper.querySelector(`#${newActiveContentId}`).classList.add('active')\n            }\n          }\n        }\n      })\n      /* PROCESS CODE GROUP - END */\n\n      stamped.body = true\n      await this.highlight(node)\n    }\n\n    this.fire('zero-md-rendered', { stamped })\n  }\n}\ncustomElements.define('zero-md', ZeroMd)\n"],"names":["notAUnicodeWord","IDfy","name","options","arguments","length","undefined","lowerCase","replace","its","with","toLowerCase","htmlTemplate","_ref","code","customName","content","isPoetry","concat","ZeroMd","_HTMLElement","_inherits","_render","_stampStyles","_buildMd","_super","defaults","_this","_classCallCheck","this","call","version","config","_objectSpread","markedUrl","prismUrl","cssUrls","hostCss","baseUrl","gitlab","token","projectId","path","branch","window","ZeroMdConfig","disableCodeHighlightingFor","shortBreaksNumber","longBreaksNumber","anchorIdsToLowerCase","indentInsideTocByPixels","imgBaseOld","imgBaseNew","lang","groupCodeGroups","pTagLang","cache","root","hasAttribute","_assertThisInitialized","attachShadow","mode","constructor","ready","Promise","all","marked","loadScript","Prism","clicked","bind","manualRender","render","then","setTimeout","goto","location","hash","observer","MutationObserver","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","observeChanges","stop","key","get","getAttribute","set","val","reflect","URLSearchParams","search","_this$config","debug","value","removeAttribute","setAttribute","old","connected","_this2","fire","bubbles","composed","waitForReady","shadowRoot","addEventListener","removeEventListener","_this3","resolve","handler","_this4","rendered","detail","opts","msg","console","warn","dispatchEvent","CustomEvent","node","requestAnimationFrame","any","Array","isArray","reject","onload","onerror","err","composedPath","urls","_this5","arrify","map","item","_this5$arrify","_this5$arrify2","url","attrs","slice","el","document","createElement","src","async","forEach","attr","head","appendChild","id","getElementById","substring","scrollIntoView","ev","metaKey","ctrlKey","altKey","shiftKey","defaultPrevented","a","target","closest","host","pathname","str","match","RegExp","href","lastIndexOf","container","querySelectorAll","n","innerText","classList","add","highlightAllUnder","_unused","html","tpl","innerHTML","firstElementChild","_this6","query","querySelector","reduce","c","_callee6","renderer","isOriginalUnderscoredBoldDisabledByNonDefaultPoetryBoldOption","tocLinks","isReadingFromGitlabConfigured","gitlabAbsoluteUrl","script","md","importsMatch","codalizedMatch","_ref9","_ref10","_ref10$","shouldBeCodalized","defaultCodeFromMd","localizedMatch","_ref11","_ref12","_ref12$","shouldBeLocalized","defaultLangFromMd","translationPerCodeOption","translationPerLangOption","codalized","localized","tocStartLevelOption","_ref17","_ref18","tocStartLevel","imgBase","shortBreaks","longBreaks","pageBreaks","articleTypeExtension","mdExtensions","mdExtensionsWithId","poetryBoldOption","_ref21","_ref22","poetryBoldStart","poetryBoldEnd","tabNameOption","_ref23","_ref24","tabNameStart","tabNameEnd","poetryBoldOptionRule","poetries","backTickPoetries","poetryRulesExceptBold","processPoetry","multiCodeBlocks","multiTabsWithCustomNamesCodeBlocks","tocMarker","toc","codeGroups","processCodeGroup","languageJsMarker","_this7","_args6","_context6","Renderer","_ref3","_callee4","resp","_context4","abrupt","_callee2","absolutePath","_context2","encodeURIComponent","trim","fetch","headers","t0","sent","_callee3","_context3","startsWith","ok","text","status","apply","dedent","matchAll","_ref7","_callee5","_ref6","_ref8","importURL","currentZeroMdPath","currentZeroMdFileNestingDepth","response","importedFileNestingMatch","thisPathLastElement","filePathtoReplace","importedFileNestingDepth","importURLPurePath","importedFileFolderIndex","importedContent","_context5","split","pop","filter","join","error","_x","__","_","_toConsumableArray","_ref13","_ref14","_slicedToArray","perCode","from","to","includes","_ref15","_ref16","perLang","log","$1","inverted","___","____","$5","tag","candidates","$4","heading","level","_ref20","pure","userId","pureWithoutTags","pixelsNumber","indentInsideToc","push","encodeURI","repeat","at","rules","$2","_info$trim$matchAll","info","maybeCodeOrCustomNameOrBoth","maybeCodeOrCustomNameOrBothPairs","matched","maybeCode","maybeCustomName","res","_step","_iterator","_createForOfIteratorHelper","s","done","rule","e","f","_i","_boldRules","_ref25","codes","getBaseUrl","manual","$3","_reduce","_ref26","_ref27","_ref28","titles","_ref29","title","_reduce2","itemsContent","itemsTitles","processedCodes","index","_ref30","classes","links","_this8","_context7","makeNode","children","find","contains","replaceWith","prepend","l","catch","_callee7","_x2","append","_this9","observe","childList","subtree","attributes","characterData","_callee8","stamped","pending","css","_this10","_args8","_context8","buildMd","buildStyles","styles","stampStyles","tick","body","stampBody","tabsWrapper","style","display","onclick","element","newActiveContentId","dataset","tabButton","remove","buttonsWrapper","parentElement","wrapper","highlight","_wrapNativeSuper","HTMLElement","customElements","define"],"mappings":"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"}